<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Date of Birth - All Months Chart</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css?family=Poppins:600,700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  :root {
    --primary: #ff7e5f;
    --secondary: #feb47b;
    --accent: #43cea2;
    --dark: #232526;
    --light: #fff8e7;
    --button-glow: 0 0 16px 3px #feb47b88;
    --shadow: 0 6px 32px 0 #23252624;
  }
  body {
    font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
    padding: 0;
    margin: 0;
    min-height: 100vh;
    background: radial-gradient(circle at 70% 20%, var(--accent) 0%, var(--secondary) 65%, var(--primary) 100%);
    color: var(--dark);
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  #shine {
    position: absolute;
    top: 10vh; left: 50vw;
    width: 230px; height: 230px;
    border-radius: 50%;
    background: radial-gradient(circle, #fffbe680 0%, transparent 80%);
    filter: blur(18px);
    z-index: 0;
    pointer-events: none;
    animation: shineSpin 14s linear infinite;
  }
  @keyframes shineSpin {
    0% {transform: rotate(0);}
    100% {transform: rotate(360deg);}
  }
  .container {
    background: linear-gradient(115deg,#fff8e7 0%, #ffe0c2 100%);
    margin-top: 70px;
    padding: 32px 36px 30px 36px;
    border-radius: 20px;
    box-shadow: var(--shadow);
    min-width: 320px;
    max-width: 96vw;
    z-index: 1;
  }
  h1 {
    font-size: 2.2em;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 800;
    text-shadow: 0 2px 20px #ffecd2aa;
    text-align: center;
    margin-bottom: 25px;
    margin-top: 0;
  }
  label {
    font-weight:600;
    display:block;
    margin-bottom: 7px;
    color:var(--primary);
    font-size: 1.1em;
    margin-top: 13px;
  }
  input {
    width: 96%;
    padding: 10px;
    font-size: 1em;
    border-radius: 7px;
    border: 1px solid #feb47b;
    margin-bottom: 16px;
    background: #fffdfa;
    box-shadow: 0 2px 10px 0 #feb47b22;
    font-family: inherit;
    transition: border 0.2s;
  }
  input:focus {
    border: 1.5px solid var(--primary);
    outline: none;
  }
  .btn-calc {
    display: block;
    width: 100%;
    margin-top:10px;
    margin-bottom: 18px;
    padding: 12px 10px;
    border-radius: 13px;
    background: linear-gradient(95deg, var(--primary) 60%, var(--secondary) 100%);
    color: white;
    font-size: 1.15em;
    font-weight: 700;
    border: none;
    box-shadow: var(--button-glow), var(--shadow);
    cursor: pointer;
    transition: background 0.22s, transform 0.18s, box-shadow 0.22s;
  }
  .btn-calc:hover {
    background: linear-gradient(95deg, var(--primary) 42%, var(--accent) 100%);
    transform: scale(1.04) translateY(-1px);
    box-shadow: 0 0 22px 3px var(--accent);
    outline: 0;
  }
  #result {
    font-size: 1.13em;
    color: #e74c3c;
    font-weight: 600;
    min-height: 24px;
    margin-top: 13px;
    margin-bottom:8px;
    text-align: center;
    transition: color .3s;
  }
  #chartBox {
    width: 99%;
    margin: 20px 0 0 0;
    max-width: 560px;
    display: none;
  }
  canvas {
    background: #fff;
    border-radius: 17px;
    box-shadow: 0 2px 15px #feb47b31;
    margin: 0 auto!important;
    display: block!important;
  }
  @media (max-width: 650px) {
    h1 { font-size: 1.3em;}
    .container { padding:14px 7vw; margin-top:35px; min-width:unset;}
    #chartBox {max-width:99vw;}
  }
</style>
</head>
<body>
<div id="shine"></div>
<div class="container">
  <h1>Date of Birth: Your Annual Single Digits</h1>
  <label for="dob">Date of Birth (ddmmyyyy):</label>
  <input type="text" id="dob" maxlength="8" placeholder="e.g. 16081995">
  <button class="btn-calc" onclick="showAllDigitsChart()">Show All Months Graph</button>
  <div id="result"></div>
  <div id="chartBox">
    <canvas id="monthsChart" width="430" height="320"></canvas>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function reduceToSingleDigit(n) {
    while (n >= 10) {
        let sum_digits = 0;
        while (n > 0) {
            sum_digits += n % 10;
            n = Math.floor(n / 10);
        }
        n = sum_digits;
    }
    return n;
}
let monthsChart = null;
function showAllDigitsChart() {
    const dob = document.getElementById("dob").value.trim();
    let resultEl = document.getElementById("result");
    let chartBoxEl = document.getElementById("chartBox");
    if (!/^\d{8}$/.test(dob)) {
        resultEl.style.color="#e74c3c";
        resultEl.textContent = "Please enter valid DOB (8 digits: ddmmyyyy).";
        chartBoxEl.style.display = "none";
        if(monthsChart) monthsChart.destroy();
        return;
    }
    // Parse input
    const day = parseInt(dob.slice(0,2), 10);
    const month = parseInt(dob.slice(2,4), 10);
    const year = parseInt(dob.slice(4), 10);

    // Generate for months 1-12
    const digits = [];
    for(let m=1; m<=12; m++) {
        // your original formula!
        let months_after = 0;
        if (m !== month) {
            months_after = (12 - month) + m;
        }
        let total = day + month + year + m + months_after;
        let single_digit = reduceToSingleDigit(total);
        digits.push(single_digit);
    }

    // Draw chart
    chartBoxEl.style.display = "block";
    resultEl.textContent = "";
    const ctx = document.getElementById('monthsChart').getContext('2d');
    if(monthsChart) monthsChart.destroy();
    monthsChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
        datasets: [{
          label: "Your Single Digit for Each Month",
          data: digits,
          backgroundColor: [
            '#feb47b','#ff7e5f','#43cea2','#dad299','#ffd200','#b8ffd4','#f7971e','#ffb677','#78c8e6','#ffb4c1','#b19cd9','#ffd6a5'
          ],
          borderRadius:12,
          borderSkipped: false
        }]
      },
      options: {
        animation: { duration: 1200 },
        plugins: {
          legend: { display: false }
        },
        scales: {
          y: {
            beginAtZero: true,
            suggestedMax: 9,
            stepSize: 1,
            grid: { color: '#fcb69f66' },
            ticks: { precision: 0 }
          }
        }
      }
    });
}
// Allow Enter key for calculation
document.getElementById("dob").addEventListener("keydown", function(e){
  if(e.key === "Enter") showAllDigitsChart();
});
</script>
</body>
</html>
